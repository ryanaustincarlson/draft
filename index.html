<html>

<head>
<!-- wysihtml5 parser rules -->
<!-- <script src="wysihtml5/parser_rules/advanced.js"></script> -->
<!-- Library -->
<!-- <script src="wysihtml5/dist/wysihtml5-0.3.0.min.js"></script> -->

<!-- css -->
<link rel="stylesheet" type="text/css" href="style.css" />

<title>
Title
</title>

<!-- <link rel="stylesheet" href="../wysihtml5/website/css/stylesheet.css" -->

</head>



<body>
<!-- <div class="toolbar" id="wysihtml5-outline-toolbar" > -->
<!-- </div> -->

<div class="editor" id="outline-editor" >
	<h2>Outline</h2>
	<!-- <textarea id="draft-outline" ></textarea> -->
</div>

<div class="editor" id="editor" >
	<input id="analyze-button" type="button" value="Analyze" onclick="analyze()">
	<h2>Essay</h2>
	<!-- <textarea id="draft-text" ></textarea> -->
</div>

<script type="text/javascript" src="editor.js"></script>
<script type="text/javascript" src="analyze.js"></script>

<script type="text/javascript">
	// var editor = new WysihtmlEditor("wysihtml5-textarea", "editor");
	// var outline = new WysihtmlOutlineEditor("wysihtml5-outline", "outline-editor");

	var editor = new DraftEditor("draft-text", "editor");
	var outline = new DraftOutlineEditor("draft-outline", "outline-editor");

	editor.initialize();
	outline.initialize();

	document.getElementById("draft-outline").addEventListener("keydown", 
			function (e)
			{
				console.log("keydown");
				if (e.keyCode == 13)
				{
					setTimeout( function() {
						outline.addCheckboxes();
					}, 1);
				}
			}, false);

	function analyze()
	{
		var analyzer = new Analyzer(editor, outline);
		
		analyzer.analyze()
	}
	// console.log("editor: " + editor.html())
	// console.log("outline: " + outline.html())
</script>

<!-- <br><br><br><br> -->
<!-- <h2>Log</h2> -->
<!-- <div id="log" /> -->

<!-- <script type="text/javascript" src="analyze.js"></script>	 -->

</body>
</html>
